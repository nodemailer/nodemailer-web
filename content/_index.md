+++
weight = 10
title = "Nodemailer"
date = "2017-01-20T21:25:35+02:00"
pre = "<b>1. </b>"
chapter = true
next = "/about/migrate/"
# prev = "/prev/path"
toc = true
+++

# Nodemailer

**Nodemailer** is a module for Node.js applications to allow easy as cake email sending. The project got started back in 2010 when there was no sane option to send email messages, today it is the solution most Node.js users turn to by default.

**Nodemailer** is licensed under **MIT license**. See license details in the [License page](/about/license/). If you are upgrading from Nodemailer v2 or older, then see the light migration guide [here](/about/migrate).

```
npm install nodemailer
```

### Support Nodemailer

If you really like Nodemailer or your business benefits from it financially then I would really appreciate a small donation. You can either use Bitcoin or PayPal for donations. I can also write a consulting invoice (I have a EU VAT number) if you can't do donations.

My Bitcoin wallet is: `15Z8ADxhssKUiwP3jbbqJwA21744KMCfTM`.

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="DB26KWR2BQX5W">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

### Nodemailer features

-   A single module with **zero dependencies** â€“ code is easily auditable, as there are no dark corners
-   Heavy focus on **security**, no-one likes [RCE vulnerabilities](http://thehackernews.com/2017/01/phpmailer-swiftmailer-zendmail.html)
-   **Unicode support** to use any characters, including emoji ðŸ’ª
-   **Windows support** â€“ you can install it with [npm](https://www.npmjs.com/package/nodemailer) on Windows just like any other module, there are no compiled dependencies. Use it hassle free from Azure or from your Windows box
-   Use **HTML content**, as well as **plain text** alternative
-   Add **[Attachments](/message/attachments/)** to messages
-   **[Embedded](/message/embedded-images/)** image attachments for HTML content â€“ your design does not get blocked
-   Secure email delivery using **TLS/STARTTLS**
-   Different **[transport methods](/transports/)** in addition to the built-in **[SMTP support](/smtp/)**
-   Sign messages with **[DKIM](/dkim/)**
-   Custom **[Plugin support](/plugins/)** for manipulating messages
-   Sane **[OAuth2](/smtp/oauth2/)** authentication
-   **[Proxies](/smtp/proxies/)** for SMTP connections
-   **ES6 code** â€“ no more unintentional memory leaks, due to hoisted _var_'s
-   Autogenerated email **test accounts** from [Ethereal.email](https://ethereal.email)

#### Requirements

-   **Node.js v6.0.0** or newer. That's it.

If you are able to run Node.js version 6 or newer, then you can use Nodemailer. There are no platform or resource specific requirements. All public Nodemailer methods support both callbacks and Promises (if callback is omitted). You need to have at least Node v8.0.0 if you want to use _async..await_ with Nodemailer.

#### TL;DR

In short, what you need to do to send messages, would be the following:

1. Create a Nodemailer transporter using either [SMTP](/smtp/) or [some other](/transports/) transport mechanism
2. Set up [message options](/message/) (who sends what to whom)
3. Deliver the message object using the **sendMail()** method of your previously created transporter

#### Example

This is a complete example to send an email with plain text and HTML body

```javascript
'use strict';
const nodemailer = require('nodemailer');

// async..await is not allowed in global scope, must use a wrapper
async function main() {
    // Generate test SMTP service account from ethereal.email
    // Only needed if you don't have a real mail account for testing
    let testAccount = await nodemailer.createTestAccount();

    // create reusable transporter object using the default SMTP transport
    let transporter = nodemailer.createTransport({
        host: 'smtp.ethereal.email',
        port: 587,
        secure: false, // true for 465, false for other ports
        auth: {
            user: testAccount.user, // generated ethereal user
            pass: testAccount.pass // generated ethereal password
        }
    });

    // send mail with defined transport object
    let info = await transporter.sendMail({
        from: '"Fred Foo ðŸ‘»" <foo@example.com>', // sender address
        to: 'bar@example.com, baz@example.com', // list of receivers
        subject: 'Hello âœ”', // Subject line
        text: 'Hello world?', // plain text body
        html: '<b>Hello world?</b>' // html body
    });

    console.log('Message sent: %s', info.messageId);
    // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>

    // Preview only available when sending through an Ethereal account
    console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info));
    // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...
}

main().catch(console.error);
```

### Examples

-   **Nodemailer AMQP example** is an example of using RabbitMQ to manage Nodemailer email messages. [Source](https://github.com/nodemailer/nodemailer-amqp-example).

Output of the the [example script](https://github.com/nodemailer/nodemailer/blob/master/examples/full.js) as shown by the [Ethereal](https://ethereal.email/) mail catching service:

![](https://cldup.com/D5Cj_C1Vw3.png)

### Source

Nodemailer source can be found from [Github](https://github.com/nodemailer/nodemailer/).

---

Nodemailer is created by [Andris Reinman](https://github.com/andris9). The Nodemailer logo was designed by [Sven Kristjansen](https://www.behance.net/kristjansen).
