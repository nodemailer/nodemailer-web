<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="Nodemailer is a module for Node.js to send emails">
<meta name="author" content="Andris Reinman">

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <title>SES transport :: Nodemailer</title>

    
    <link href="/css/nucleus.css?1626683636" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1626683636" rel="stylesheet">
    <link href="/css/hybrid.css?1626683636" rel="stylesheet">
    <link href="/css/featherlight.min.css?1626683636" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1626683636" rel="stylesheet">
    <link href="/css/auto-complete.css?1626683636" rel="stylesheet">
    <link href="/css/theme.css?1626683636" rel="stylesheet">
    <link href="/css/hugo-theme.css?1626683636" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1626683636" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1626683636"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <style>
    #sidebar #header-wrapper {
        background-color: white;
    }
    #sidebar #header-wrapper a {
        color: #07689f;
    }

    #ads {
         
        max-width: 260px;
         
        margin: 3px auto 10px auto;
         
        font-size: 13px;
        color: #07689f;
    }

    #carbonads * {
  margin: initial;
  padding: initial;
}
#carbonads {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', Helvetica, Arial,
    sans-serif;
}
#carbonads {
  display: flex;
  max-width: 330px;
  background-color: hsl(0, 0%, 98%);
  box-shadow: 0 1px 4px 1px hsla(0, 0%, 0%, 0.1);
  z-index: 100;
}
#carbonads a {
  color: inherit;
  text-decoration: none;
}
#carbonads a:hover {
  color: inherit;
}
#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}
#carbonads .carbon-wrap {
  display: flex;
}
#carbonads .carbon-img {
  display: block;
  margin: 0;
  line-height: 1;
}
#carbonads .carbon-img img {
  display: block;
}
#carbonads .carbon-text {
  font-size: 13px;
  padding: 10px;
  margin-bottom: 16px;
  line-height: 1.5;
  text-align: left;
}
#carbonads .carbon-poweredby {
  display: block;
  padding: 6px 8px;
  background: #f1f1f2;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 600;
  font-size: 8px;
  line-height: 1;
  border-top-left-radius: 3px;
  position: absolute;
  bottom: 0;
  right: 0;
}

    #chapter p {
        text-align: left;
    }

    code {
        line-height: 1.5rem;
    }
</style>

<script>
    var OFID = '5ade1fb4e2982f2638310b10';
</script>
<script src="https://app.outfunnel.com/c.js"></script>


<script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-51322-34"
></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-51322-34');
</script>

  </head>
  <body class="" data-url="/transports/ses/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://nodemailer.com">
  <img src="/nm_logo_200x136.png" alt="Nodemailer" />
</a>

    </div>
    
        <p>
  <a
    href="http://outfunnel.com/?utm_source=nodemailer&amp;utm_campaign=nodemailer&amp;utm_medium=header-link"
    >Powered by <b>Outfunnel</b></a
  >
</p>

    
  </div>

    <div class="highlightable">

    <div id="ads">


<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYIE27U&placement=nodemailercom" id="_carbonads_js"></script>


    </div>

    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/about/" title="Nodemailer" class="dd-item
        
        
        
        ">
      <a href="/about/">
          <b>1. </b>Nodemailer
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/about/migrate/" title="Migration" class="dd-item ">
        <a href="/about/migrate/">
        Migration
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/about/license/" title="License" class="dd-item ">
        <a href="/about/license/">
        License
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/usage/" title="Usage" class="dd-item
        
        
        
        ">
      <a href="/usage/">
          <b>2. </b>Usage
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/usage/why-smtp/" title="SMTP? Say what?" class="dd-item ">
        <a href="/usage/why-smtp/">
        SMTP? Say what?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/using-gmail/" title="Using Gmail" class="dd-item ">
        <a href="/usage/using-gmail/">
        Using Gmail
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/bulk-mail/" title="Delivering bulk mail" class="dd-item ">
        <a href="/usage/bulk-mail/">
        Delivering bulk mail
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/message/" title="Message configuration" class="dd-item
        
        
        
        ">
      <a href="/message/">
          <b>3. </b>Message configuration
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/message/attachments/" title="Attachments" class="dd-item ">
        <a href="/message/attachments/">
        Attachments
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/alternatives/" title="Alternatives" class="dd-item ">
        <a href="/message/alternatives/">
        Alternatives
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/addresses/" title="Address object" class="dd-item ">
        <a href="/message/addresses/">
        Address object
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/calendar-events/" title="Calendar events" class="dd-item ">
        <a href="/message/calendar-events/">
        Calendar events
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/embedded-images/" title="Embedded images" class="dd-item ">
        <a href="/message/embedded-images/">
        Embedded images
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/list-headers/" title="List headers" class="dd-item ">
        <a href="/message/list-headers/">
        List headers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/custom-headers/" title="Custom headers" class="dd-item ">
        <a href="/message/custom-headers/">
        Custom headers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/message/custom-source/" title="Custom source" class="dd-item ">
        <a href="/message/custom-source/">
        Custom source
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/smtp/" title="SMTP transport" class="dd-item
        
        
        
        ">
      <a href="/smtp/">
          <b>4. </b>SMTP transport
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/smtp/envelope/" title="SMTP envelope" class="dd-item ">
        <a href="/smtp/envelope/">
        SMTP envelope
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/pooled/" title="Pooled SMTP" class="dd-item ">
        <a href="/smtp/pooled/">
        Pooled SMTP
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/testing/" title="Testing SMTP" class="dd-item ">
        <a href="/smtp/testing/">
        Testing SMTP
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/oauth2/" title="OAuth2" class="dd-item ">
        <a href="/smtp/oauth2/">
        OAuth2
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/customauth/" title="Custom authentication" class="dd-item ">
        <a href="/smtp/customauth/">
        Custom authentication
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/proxies/" title="Proxy support" class="dd-item ">
        <a href="/smtp/proxies/">
        Proxy support
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/smtp/dsn/" title="Delivery status notifications" class="dd-item ">
        <a href="/smtp/dsn/">
        Delivery status notifications
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/transports/" title="Other transports" class="dd-item
        parent
        
        
        ">
      <a href="/transports/">
          <b>5. </b>Other transports
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/transports/sendmail/" title="Sendmail transport" class="dd-item ">
        <a href="/transports/sendmail/">
        Sendmail transport
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/transports/ses/" title="SES transport" class="dd-item active">
        <a href="/transports/ses/">
        SES transport
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/transports/stream/" title="Stream transport" class="dd-item ">
        <a href="/transports/stream/">
        Stream transport
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/plugins/" title="Plugins" class="dd-item
        
        
        
        ">
      <a href="/plugins/">
          <b>6. </b>Plugins
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/plugins/create/" title="Create plugins" class="dd-item ">
        <a href="/plugins/create/">
        Create plugins
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/dkim/" title="DKIM" class="dd-item
        
        
        
        ">
      <a href="/dkim/">
          <b>7. </b>DKIM
          
      </a>
      
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/extras/" title="Extra modules" class="dd-item
        
        
        
        ">
      <a href="/extras/">
          <b>8. </b>Extra modules
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/extras/smtp-server/" title="SMTP Server" class="dd-item ">
        <a href="/extras/smtp-server/">
        SMTP Server
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/extras/smtp-connection/" title="SMTP Connection" class="dd-item ">
        <a href="/extras/smtp-connection/">
        SMTP Connection
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/extras/mailparser/" title="Mailparser" class="dd-item ">
        <a href="/extras/mailparser/">
        Mailparser
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/extras/mailcomposer/" title="Mailcomposer" class="dd-item ">
        <a href="/extras/mailcomposer/">
        Mailcomposer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/extras/daemons/" title="Node.js daemons" class="dd-item ">
        <a href="/extras/daemons/">
        Node.js daemons
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/app/" title="NodemailerApp" class="dd-item
        
        
        
        ">
      <a href="/app/">
          <b>9. </b>NodemailerApp
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <div style="text-align: center; margin-bottom:10px;">
    <form
        action="https://www.paypal.com/cgi-bin/webscr"
        method="post"
        target="_top"
    >
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="DB26KWR2BQX5W" />
        <input
            type="image"
            src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif"
            border="0"
            name="submit"
            alt="PayPal - The safer, easier way to pay online!"
            style="display: inline"
        />
        <img
            alt=""
            border="0"
            src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif"
            width="1"
            height="1"
        />
    </form>
</div>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Nodemailer</a> > <a href='/transports/'>Other transports</a> > SES transport
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#why-not-use-aws-sdk-directly">Why not use aws-sdk directly?</a></li>
    <li><a href="#usage">Usage</a>
      <ul>
        <li></li>
        <li><a href="#troubleshooting">Troubleshooting</a></li>
        <li><a href="#examples">Examples</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>SES transport</h1>
          

        


<p>Nodemailer SES transport is a wrapper around <em>aws.SES</em> from the <a href="https://www.npmjs.com/package/aws-sdk">aws-sdk</a> package. SES transport is available from Nodemailer v3.1.0.</p>
<h2 id="why-not-use-aws-sdk-directly">Why not use aws-sdk directly?</h2>
<p>The SES API exposes two methods to send mail – <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/SES.html#sendEmail-property">SendEmail</a> and <a href="http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/SES.html#sendRawEmail-property">SendRawEmail</a>. While the first one is really easy to use and Nodemailer is not actually needed, then it is also quite basic in features. For example you can&rsquo;t use attachments with <em>SendEmail</em>. On the other hand <em>SendRawEmail</em> requires you build your own MIME formatted email message which is far from being easy. And this is where Nodemailer steps in – it gives you a simple to use API while supporting even really complex scenarios like embedded images or calendar events.</p>
<p>In addition to the simple API, Nodemailer also provides rate limiting for SES out of the box. SES can tolerate short spikes but you can&rsquo;t really flush all your emails at once and expect these to be delivered. To overcome this you can set a rate limiting value and let Nodemailer handle everything – if too many messages are being delivered then Nodemailer buffers these until there is an opportunity to do the actual delivery.</p>
<h2 id="usage">Usage</h2>
<p>To use SES transport, set a <em>aws.SES</em> object as the value for <strong>SES</strong> property in Nodemailer transport options. That&rsquo;s it. You are responsible of initializing that object yourself as Nodemailer does not touch the AWS settings in any way.</p>
<ul>
<li><strong>SES</strong> – is an option that expects an instantiated <em>aws.SES</em> object (see <a href="#example-1">example #1</a>).</li>
</ul>
<p>Additional properties to use are the following:</p>
<ul>
<li><strong>sendingRate</strong> optional Number. How many messages per second is allowed to be delivered to SES</li>
<li><strong>maxConnections</strong> optional Number. How many parallel connections to allow towards SES.</li>
</ul>
<p>If you use rate or connection limiting then you can also use helper methods to detect if the sending queue is full or not. This would help to avoid buffering up too many messages.</p>
<p>Listen for the <em>&lsquo;idle&rsquo;</em> event to be notified if you can push more messages to the transporter. To explicitly check if there are free spots available use <em>isIdle()</em> method (see <a href="#example-2">example #2</a>).</p>
<h4 id="message-options">Message options</h4>
<p>When sending mail there&rsquo;s also an additional message option for setting <em>SendRawEmail</em> options</p>
<ul>
<li><strong>ses</strong> is an optional object. All keys are added to the <em>SendRawEmail</em> method options.</li>
</ul>
<h4 id="response">Response</h4>
<p>The <strong>info</strong> argument for <strong>sendMail()</strong> callback includes the following properties:</p>
<ul>
<li><strong>envelope</strong> – is an envelope object <em>{from:&lsquo;address&rsquo;, to:[&lsquo;address&rsquo;]}</em></li>
<li><strong>messageId</strong> – is the Message-ID header value. This value is derived from the response of SES API, so it differs from the Message-ID values used in logging.</li>
</ul>
<h3 id="troubleshooting">Troubleshooting</h3>
<p><strong>1. Not allowed to send messages</strong></p>
<ol>
<li>Check that your IAM role has <em>ses:SendRawEmail</em> action allowed (see <a href="#example-3">example #3</a>)</li>
<li>Check that the email address you are sending mail from is verified</li>
<li>There are multiple reports that access keys with special symbols might fail sending mail. Try to generate new access keys and see if it helps</li>
</ol>
<p><strong>2. aws-sdk is not found</strong></p>
<p>You need to install the <a href="https://www.npmjs.com/package/aws-sdk">aws-sdk</a> module separately, it is not bundled with Nodemailer.</p>
<h3 id="examples">Examples</h3>
<h4 id="example-1">1. Send a message using SES transport</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nodemailer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;nodemailer&#34;</span>);
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">aws</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@aws-sdk/client-ses&#34;</span>);

<span style="color:#75715e">// configure AWS SDK
</span><span style="color:#75715e"></span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">AWS_ACCESS_KEY_ID</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;....&#34;</span>;
<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">AWS_SECRET_ACCESS_KEY</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;....&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ses</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">SES</span>({
  <span style="color:#a6e22e">apiVersion</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;2010-12-01&#34;</span>,
  <span style="color:#a6e22e">region</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;us-east-1&#34;</span>,
});

<span style="color:#75715e">// create Nodemailer SES transporter
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">transporter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nodemailer</span>.<span style="color:#a6e22e">createTransport</span>({
  <span style="color:#a6e22e">SES</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">ses</span>, <span style="color:#a6e22e">aws</span> },
});

<span style="color:#75715e">// send some mail
</span><span style="color:#75715e"></span><span style="color:#a6e22e">transporter</span>.<span style="color:#a6e22e">sendMail</span>(
  {
    <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;sender@example.com&#34;</span>,
    <span style="color:#a6e22e">to</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;recipient@example.com&#34;</span>,
    <span style="color:#a6e22e">subject</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Message&#34;</span>,
    <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;I hope this message gets sent!&#34;</span>,
    <span style="color:#a6e22e">ses</span><span style="color:#f92672">:</span> {
      <span style="color:#75715e">// optional extra arguments for SendRawEmail
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">Tags</span><span style="color:#f92672">:</span> [
        {
          <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tag_name&#34;</span>,
          <span style="color:#a6e22e">Value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tag_value&#34;</span>,
        },
      ],
    },
  },
  (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">info</span>) =&gt; {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">envelope</span>);
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">messageId</span>);
  }
);
</code></pre></div><h4 id="example-2">2. Throttle messages</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">transporter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nodemailer</span>.<span style="color:#a6e22e">createTransport</span>({
    <span style="color:#a6e22e">SES</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">ses</span>, <span style="color:#a6e22e">aws</span> },
    <span style="color:#a6e22e">sendingRate</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e">// max 1 messages/second
</span><span style="color:#75715e"></span>});

<span style="color:#75715e">// Push next messages to Nodemailer
</span><span style="color:#75715e"></span><span style="color:#a6e22e">transporter</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;idle&#39;</span>, () =&gt; {
    <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">transporter</span>.<span style="color:#a6e22e">isIdle</span>()) {
        <span style="color:#a6e22e">transporter</span>.<span style="color:#a6e22e">sendMail</span>(...);
    }
});
</code></pre></div><h4 id="example-3">3. IAM policy</h4>
<p>Nodemailer SES transport requires <em>ses:SendRawEmail</em> role</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;Statement&#34;</span>: [
    {
      <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
      <span style="color:#f92672">&#34;Action&#34;</span>: <span style="color:#e6db74">&#34;ses:SendRawEmail&#34;</span>,
      <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>
    }
  ]
}
</code></pre></div>

<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/transports/sendmail/" title="Sendmail transport"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/transports/stream/" title="Stream transport" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1626683636"></script>
    <script src="/js/perfect-scrollbar.min.js?1626683636"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1626683636"></script>
    <script src="/js/jquery.sticky.js?1626683636"></script>
    <script src="/js/featherlight.min.js?1626683636"></script>
    <script src="/js/html5shiv-printshiv.min.js?1626683636"></script>
    <script src="/js/highlight.pack.js?1626683636"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1626683636"></script>
    <script src="/js/learn.js?1626683636"></script>
    <script src="/js/hugo-learn.js?1626683636"></script>

    <link href="/mermaid/mermaid.css?1626683636" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1626683636"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

